<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report Dashboard</title>
    <link rel="stylesheet" th:href="@{/pm_styles.css}" type="text/css">
</head>
<body>
    <div class="main-wrapper">
        <div class="header-box">
          <div class="navbar-logo">
        <img th:src="@{images/logo.png}" alt="" style="width: 70px; height: 70px;">
      </div>
          <div class="nav-actions">
            <a th:href="@{/PlatformManagerHome}" class="nav-home">Home</a>
            <a th:href="@{/Logout}" class="logout-btn">Logout</a>
          </div>
        </div>
    
        <div class="form-title">Generate Report</div>
    
        <div class="register-container">
            <a href="javascript:history.back()" class="back-btn">‚Üê Back</a>

        <!-- Main Content Area -->
        <main>
            <!-- Main Content - Dynamic based on page -->
            <div id="content">
                <!-- Default page content (first image) -->
                <div id="home-page" class="page active">
                    <form th:action="@{/GenerateReport}" method="get">

                        <div class="report-buttons">
                            <label>Select Date*</label>
                            <input type="date" class="date-input" id="reportDate" name="date" required>
                            <button class="report-btn" type="submit" name="type" value="daily">Generate Daily</button>
                            <button class="report-btn" type="submit" name="type" value="weekly">Generate Weekly</button>
                            <button class="report-btn" type="submit" name="type" value="monthly">Generate Monthly</button>
                        </div>
                    </form>
                </div>
               
                <div th:if="${type == 'daily'}">
                <form id="generateDaily" th:action="@{/DownloadDailyReport(date=${date})}" th:object="${dailyReport}" method="get">
                    <div>
                        <h2>Daily Report</h2>

                        <div class="stats-container">
                            <div class="stat-box">
                                <div class="stat-label">New Home Owners</div>
                                <div class="stat-number"><span th:text="*{newHomeOwners}"></span></div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">New Cleaners</div>
                                <div class="stat-number"><span th:text="*{newCleaners}"></span></div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">No. Of Shortlists</div>
                                <div class="stat-number"><span th:text="*{NoOfShortlists}"></span></div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">Total Home Owners</div>
                                <div class="stat-number"><span th:text="*{totalHomeOwners}"></span></div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">Total Cleaners</div>
                                <div class="stat-number"><span th:text="*{totalCleaners}"></span></div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">No. Of Bookings</div>
                                <div class="stat-number"><span th:text="*{NoOfBookings}"></span></div>
                            </div>
                        </div>
                    </div>

                    <div class="date-selector">
                        <input type="hidden" name="date" th:value="*{date}">
                        <button type="submit" class="generate-btn">Save Report to PDF</button>
                    </div>

                </form>
                </div>

                <div th:if="${type == 'weekly'}">
                <form id="generateWeekly" th:action="@{/DownloadWeeklyReport(date=${date})}" th:object="${weeklyReport}" method="get">
                    <div>
                        <h2>Weekly Report</h2>

                        <div class="stats-container">
                            <div class="stat-box">
                                <div class="stat-label">New Home Owners</div>
                                <div class="stat-number"><span th:text="${weeklyReport.newHomeOwners}"></span></div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">New Cleaners</div>
                                <div class="stat-number"><span th:text="${weeklyReport.newCleaners}"></span></div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">No. Of Shortlists</div>
                                <div class="stat-number"><span th:text="${weeklyReport.NoOfShortlists}"></span></div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">Total Home Owners</div>
                                <div class="stat-number"><span th:text="${weeklyReport.totalHomeOwners}"></span></div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">Total Cleaners</div>
                                <div class="stat-number"><span th:text="${weeklyReport.totalCleaners}"></span></div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">No. Of Bookings</div>
                                <div class="stat-number"><span th:text="${weeklyReport.NoOfBookings}"></span></div>
                            </div>
                        </div>
                    </div>

                    <div class="date-selector">
                        <input type="hidden" name="date" th:value="*{date}">
                        <button type="submit" class="generate-btn">Save Report to PDF</button>
                    </div>

                </form>
                </div>

                <div th:if="${type == 'monthly'}">
                <form id="generateMonthly" th:action="@{/DownloadMonthlyReport(date=${date})}" th:object="${monthlyReport}" method="get">
                    <!-- Monthly Report page content (fourth image) -->
                    <div>
                        <h2>Monthly Report</h2>

                        <div class="stats-container">
                            <div class="stat-box">
                                <div class="stat-label">New Home Owners</div>
                                <div class="stat-number"><span th:text="*{newHomeOwners}"></span></div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">New Cleaners</div>
                                <div class="stat-number"><span th:text="*{newCleaners}"></span></div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">No. Of Shortlists</div>
                                <div class="stat-number"><span th:text="*{NoOfShortlists}"></span></div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">Total Home Owners</div>
                                <div class="stat-number"><span th:text="*{totalHomeOwners}"></span></div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">Total Cleaners</div>
                                <div class="stat-number"><span th:text="*{totalCleaners}"></span></div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">No. Of Bookings</div>
                                <div class="stat-number"><span th:text="*{NoOfBookings}"></span></div>
                            </div>
                        </div>
                    </div>

                    <div class="date-selector">
                        <input type="hidden" name="date" th:value="*{date}">
                        <button type="submit" class="generate-btn">Save Report to PDF</button>
                    </div>

                </form>
                </div>
                
            </div>
        </main>
    </div>

</body>
</html>